(this["webpackJsonpreact-game15"]=this["webpackJsonpreact-game15"]||[]).push([[0],{191:function(e,t,n){e.exports=n(414)},372:function(e,t,n){},414:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),r=n(30),o=n.n(r),l=n(22),s=n(23),c=n(24),u=n(27),m=n(26),p=function(e,t){for(var n,a,i=e.slice(0),r=e.length;r--;)n=i[a=Math.floor((r+1)*Math.random())],i[a]=i[r],i[r]=n;return i.slice(0,t)},f=function(e){if(!Number.isInteger(Math.sqrt(e)))throw new Error("Cannot generate level of size: <".concat(e,">"));if(e<1||e>100)throw new Error("Cannot generate level of size: <".concat(e,">"));return{tileSet:p((t=e,Array.from({length:t},(function(e,t){return Number.parseInt(t+1,10)}))),e)};var t},d=n(74),h=n(25),b=n(62),v=n(73),g=n(180),S=n.n(g);function k(){var e=Object(l.a)(["\n  border: 1px solid #FFD1AA;\n  position: absolute;\n  width: ","px;\n  height: ","px;\n  left: ","px;\n  top: ","px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background-color: ",";\n  transition-property: top, left, background-color;\n  transition-duration: .300s;\n  transition-timing-function: ease-in;\n\n  .tile-number {\n    color: #FFD1AA;\n    font-weight: 400;\n    font-size: 1.8em;\n    user-select: none;\n  }\n\n  &.tile-invisible {\n    display: none;\n  }\n"]);return k=function(){return e},e}var O=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(s.a)(this,n),(a=t.call(this,e)).onClick=a.onClick.bind(Object(v.a)(a)),a}return Object(c.a)(n,[{key:"onClick",value:function(){this.props.onClick(this.props)}},{key:"render",value:function(){var e,t=this.props,n=t.className,a=t.number,r=t.visible,o=S()((e={},Object(b.a)(e,n,!0),Object(b.a)(e,"tile-invisible",!r),e));return i.a.createElement("div",{className:o,onClick:this.onClick},i.a.createElement("span",{className:"tile-number"},a))}}]),n}(a.Component);O.defaultProps={number:0,correct:!1,visible:!0};var E=Object(h.a)(O)(k(),(function(e){return e.width}),(function(e){return e.height}),(function(e){return e.left}),(function(e){return e.top}),(function(e){return e.correct?"#226666":"#D4726A"}));O.propTypes;function C(){var e=Object(l.a)(["\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 500px;\n\n  & .tiles {\n    width: ","px;\n    height: ","px;\n    position: relative;\n    text-align: center;\n  }\n"]);return C=function(){return e},e}var w=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.className,n=e.tiles,a=e.onTileClick,r=e.gridSize;return i.a.createElement("div",{className:t},i.a.createElement("div",{className:"tiles"},n.map((function(e,t){return i.a.createElement(E,Object.assign({},e,{key:"tile-".concat(t),correct:e.tileId+1===e.number,onClick:a,visible:e.number<Math.pow(r,2)}))}))))}}]),n}(a.Component),j=Object(h.a)(w)(C(),(function(e){return e.tileSize*e.gridSize}),(function(e){return e.tileSize*e.gridSize})),y=n(76),T=n(77),x=n.n(T),z=n(117),N=n.n(z),I=n(118),M=n.n(I),R=n(181),A=n.n(R),P=n(182),D=n.n(P),G=n(183),q=n.n(G),B=n(184),F=n.n(B),L=n(185),_=n.n(L),K=n(186),J=n.n(K),U=Symbol("GAME_IDLE"),V=Symbol("GAME_STARTED"),W=Symbol("GAME_OVER"),Y=Symbol("GAME_PAUSED"),H=n(119),Q=n.n(H);function X(){var e=Object(l.a)(["\n\n@media (max-width: 1190px) {\n  \n  & {\n    justify-content: center !important;\n  }\n\n  .toolbarTitle {\n    display: none;\n  }\n\n}\n\n@media (max-width: 890px) {\n\n  .menuButton {\n    margin: 10px 5px !important;\n    min-width: 36px !important;\n  }\n\n  .menuIcon {\n    margin-left: 0px !important;\n  }\n\n  .menuIcon+span {\n    display: none !important;\n  }\n\n}\n\n"]);return X=function(){return e},e}var Z=Object(h.a)(y.Toolbar)(X()),$=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(){return Object(s.a)(this,n),t.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props,t=e.seconds,n=e.moves,a=e.onResetClick,r=e.onPauseClick,o=e.onNewClick,l=e.gameState;return i.a.createElement(Z,{className:"toolbar"},i.a.createElement(y.ToolbarTitle,{className:"toolbarTitle",text:"React Puzzle Games - 15 Puzzle"}),i.a.createElement(y.ToolbarGroup,null,i.a.createElement(x.a,{className:"menuButton",label:"New game",onTouchTap:o,title:"Start a new game",icon:i.a.createElement(J.a,{className:"menuIcon"})}),i.a.createElement(x.a,{className:"menuButton",label:l===Y?"Continue":"Pause",onTouchTap:r,icon:l===Y?i.a.createElement(_.a,{className:"menuIcon"}):i.a.createElement(F.a,{className:"menuIcon"}),title:"Pause/Continue current game.",disabled:l!==V&&l!==Y}),i.a.createElement(x.a,{className:"menuButton",label:"Reset game",onTouchTap:a,title:"Reset game",icon:i.a.createElement(q.a,{className:"menuIcon"})}),i.a.createElement(N.a,null,i.a.createElement(M.a,{icon:i.a.createElement(A.a,null)}),i.a.createElement(Q.a,{query:"(min-width: 772px)",component:"span"},"Time Elapsed:"," "),t,"s"),i.a.createElement(N.a,null,i.a.createElement(M.a,{icon:i.a.createElement(D.a,null)}),i.a.createElement(Q.a,{query:"(min-width: 772px)",component:"span"},"Moves Counter:"," "),n)))}}]),n}(a.Component),ee=n(187),te=n.n(ee),ne=n(116),ae=n.n(ne),ie=n(188),re=n.n(ie);function oe(){var e=Object(l.a)(["\n  flex: 1;\n"]);return oe=function(){return e},e}var le=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).keyDownListener=function(e){if(e.ctrlKey&&e.altKey&&"KeyF"===e.code){var t=a.props,n=t.original,i=t.gridSize,r=t.tileSize,o=a.generateTiles(n,i,r).map((function(e,t){return e.number=t+1,Object.assign({},e)}));clearInterval(a.timerId),a.setState({gameState:W,tiles:o,dialogOpen:!0})}},a.handleDialogClose=function(){a.setState({dialogOpen:!1})},a.handleSnackbarClose=function(e){a.setState({snackbarOpen:!1})},a.onPauseClick=function(){a.setState((function(e){var t=null,n=null;return e.gameState===V?(clearInterval(a.timerId),t=Y,n="The game is currently paused."):(a.setTimer(),t=V,n="Game on!"),{gameState:t,snackbarOpen:!0,snackbarText:n}}))},a.onTileClick=function(e){if(a.state.gameState!==W&&a.state.gameState!==Y){0===a.state.moves&&a.setTimer();var t,n,i,r=a.props.gridSize,o=a.state.tiles.find((function(e){return e.number===Math.pow(r,2)})),l=a.state.tiles.indexOf(o),s=a.state.tiles.findIndex((function(t){return t.number===e.number}));if(function(e,t){var n=e.row===t.row,a=e.column===t.column,i=e.column-t.column,r=e.row-t.row,o=1===Math.abs(i),l=1===Math.abs(r);return{neighbours:n&&o||a&&l,distance:{rows:r,columns:i}}}(e,o).neighbours){var c=Array.from(a.state.tiles).map((function(e){return Object(d.a)({},e)}));t=c,n=l,i=s,["top","left","row","column","tileId"].forEach((function(e){var a=t[n][e];t[n][e]=t[i][e],t[i][e]=a}));var u=a.isGameOver(c);a.setState({gameState:u?W:V,tiles:c,moves:a.state.moves+1,dialogOpen:!!u})}}};var i=e.numbers,r=e.tileSize,o=e.gridSize,l=e.moves,c=e.seconds,u=a.generateTiles(i,o,r);return a.state={tiles:u,gameState:U,moves:l,seconds:c,dialogOpen:!1,snackbarOpen:!1,snackbarText:""},document.addEventListener("keydown",a.keyDownListener),a}return Object(c.a)(n,[{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.tileSize,a=t.gridSize,i=this.generateTiles(e.numbers,a,n);this.setState({gameState:U,tiles:i,moves:0,seconds:0}),clearInterval(this.timerId)}},{key:"generateTiles",value:function(e,t,n){var a=this,i=[];return e.forEach((function(e,r){i[r]=Object(d.a)(Object(d.a)({},function(e,t,n){if(!Number.isInteger(t)||t<1)throw new Error("Cannot get coords from tile with gridSize: <".concat(t,">"));if(!Number.isInteger(n)||n<1)throw new Error("Cannot get coords from tile with tileSize: <".concat(n,">"));var a=e%t,i=e/t<<0;return{column:a,row:i,left:a*n,top:i*n,tileId:e}}(r,t,n)),{},{width:a.props.tileSize,height:a.props.tileSize,number:e})})),i}},{key:"isGameOver",value:function(e){return e.filter((function(e){return e.tileId+1===e.number})).length===Math.pow(this.props.gridSize,2)&&(clearInterval(this.timerId),!0)}},{key:"addTimer",value:function(){this.setState((function(e){return{seconds:e.seconds+1}}))}},{key:"setTimer",value:function(){var e=this;this.timerId=setInterval((function(){e.addTimer()}),1e3)}},{key:"render",value:function(){var e=this.props,t=e.className,n=e.gridSize,a=e.tileSize,r=e.onResetClick,o=e.onNewClick,l=[i.a.createElement(ae.a,{label:"Close",onTouchTap:this.handleDialogClose})];return i.a.createElement("div",{className:t},i.a.createElement($,{seconds:this.state.seconds,moves:this.state.moves,onResetClick:r,onPauseClick:this.onPauseClick,onNewClick:o,gameState:this.state.gameState}),i.a.createElement(j,{gridSize:n,tileSize:a,tiles:this.state.tiles,onTileClick:this.onTileClick}),i.a.createElement(te.a,{title:"Congrats!",actions:l,modal:!1,open:this.state.dialogOpen,onRequestClose:this.handleDialogClose},"You've solved the puzzle in"," ",this.state.moves," ","moves in"," ",this.state.seconds," ","seconds!"),i.a.createElement(re.a,{open:this.state.snackbarOpen,message:this.state.snackbarText,onRequestClose:this.handleSnackbarClose}))}}]),n}(a.Component);le.defaultProps={tileSize:90,gridSize:4,moves:0,seconds:0};var se=Object(h.a)(le)(oe());function ce(){var e=Object(l.a)(["\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n"]);return ce=function(){return e},e}var ue=function(e){Object(u.a)(n,e);var t=Object(m.a)(n);function n(e){var a;Object(s.a)(this,n),(a=t.call(this,e)).onResetClick=function(){a.setState({level:{tileSet:a.state.original.tileSet}})},a.onNewClick=function(){var e=f(Math.pow(4,2)),t=Object.assign({},e);a.setState({level:e,original:t})};var i=e.level?e.level:f(Math.pow(4,2)),r=Object.assign({},i);return a.state={original:r,level:i},a}return Object(c.a)(n,[{key:"render",value:function(){var e=this.props.className;return i.a.createElement("div",{className:e},i.a.createElement(se,{gridSize:4,tileSize:90,numbers:this.state.level.tileSet,onResetClick:this.onResetClick,onNewClick:this.onNewClick,original:this.state.original.tileSet}))}}]),n}(a.Component),me=Object(h.a)(ue)(ce()),pe=(n(372),n(189)),fe=n.n(pe),de=n(190);n.n(de)()();var he=function(){return i.a.createElement(fe.a,null,i.a.createElement(me,{level:f(Math.pow(4,2))}))};o.a.render(i.a.createElement(he,null),document.getElementById("root"))}},[[191,1,2]]]);
//# sourceMappingURL=main.644e6704.chunk.js.map