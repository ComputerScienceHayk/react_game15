{"version":3,"sources":["lib/utils.js","lib/levels-factory.js","components/Tile.js","components/Grid.js","lib/game-status.js","components/Menu.js","components/Game.js","components/App.js","index.js"],"names":["randomSubarray","arr","size","temp","index","shuffled","slice","i","length","Math","floor","random","Number","isInteger","sqrt","Error","tileSet","Array","from","v","parseInt","Tile","props","onClick","bind","this","className","number","visible","classes","classnames","Component","defaultProps","correct","styled","width","height","left","top","propTypes","Grid","tiles","onTileClick","gridSize","map","tile","tileId","key","tileSize","GAME_IDLE","Symbol","GAME_STARTED","GAME_OVER","GAME_PAUSED","StyledToolbar","Toolbar","Menu","seconds","moves","onResetClick","onPauseClick","onNewClick","gameState","text","label","onTouchTap","title","icon","disabled","query","component","Game","keyDownListener","ctrlKey","altKey","code","original","solvedTiles","generateTiles","Object","assign","clearInterval","timerId","setState","dialogOpen","handleDialogClose","handleSnackbarClose","reason","snackbarOpen","prevState","newGameState","newSnackbarText","setTimer","snackbarText","state","indexA","indexB","emptyTile","find","t","emptyTileIndex","indexOf","tileIndex","findIndex","tileACoords","tileBCoords","sameRow","row","sameColumn","column","columnDiff","rowDiff","diffColumn","abs","diffRow","neighbours","distance","rows","columns","distanceBetween","forEach","field","sw","checkGameOver","isGameOver","numbers","document","addEventListener","nextProps","newTiles","getTileCoords","filter","setInterval","addTimer","actions","modal","open","onRequestClose","message","App","level","newLevel","levelFactory","newOriginalLevel","originalLevel","injectTapEventPlugin","MuiTheme","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.644e6704.chunk.js","sourcesContent":["/**\n * Return an Array containing all numbers such that 0 = n <= length in\n * ascending order.\n * @param {Number} length Number of items in the resulting Array\n * @returns {Array} Array of numbers\n */\nexport const range = length => {\n  return Array.from({ length }, (v, i) => Number.parseInt(i + 1, 10));\n};\n\n/**\n * Get random slice from an array based on Fisher Yates shuffle.\n * https://en.wikipedia.org/wiki/Fisher%E2%80%93Yates_shuffle\n * @param {Array} arr Input Array\n * @param {Number} size Slice size\n * @returns {Array} Resulting slice\n */\nexport const randomSubarray = (arr, size) => {\n  let shuffled = arr.slice(0), i = arr.length, temp, index;\n  while (i--) {\n    index = Math.floor((i + 1) * Math.random());\n    temp = shuffled[index];\n    shuffled[index] = shuffled[i];\n    shuffled[i] = temp;\n  }\n\n  return shuffled.slice(0, size);\n};\n\n/**\n * Returns an Object containing grid coordinates based on the index\n * in an Array.\n * @param {Number} index Position of an item in an Array\n * @param {Number} gridSize Size of the Grid\n * @param {Number} tileSize Size of a Tile, in pixels, to calculate the absolute\n * positioning within the Grid\n * @return {Object} Object containing coordinates\n */\nexport const getTileCoords = (index, gridSize, tileSize) => {\n  if (!Number.isInteger(gridSize) || gridSize < 1) {\n    throw new Error(`Cannot get coords from tile with gridSize: <${gridSize}>`);\n  }\n\n  if (!Number.isInteger(tileSize) || tileSize < 1) {\n    throw new Error(`Cannot get coords from tile with tileSize: <${tileSize}>`);\n  }\n\n  const column = index % gridSize;\n  const row = index / gridSize << 0;\n\n  return {\n    column,\n    row,\n    left: column * tileSize,\n    top: row * tileSize,\n    tileId: index,\n  };\n};\n\n/**\n * Calculate distance between two sets of coordinates\n *\n * @param  {Object} tileACoords Coordinates of Tile A\n * @param  {Object} tileBCoords Coordinates of Tile B\n * @returns {Object} Result\n */\nexport const distanceBetween = (tileACoords, tileBCoords) => {\n  const sameRow = tileACoords.row === tileBCoords.row;\n  const sameColumn = tileACoords.column === tileBCoords.column;\n  const columnDiff = tileACoords.column - tileBCoords.column;\n  const rowDiff = tileACoords.row - tileBCoords.row;\n  const diffColumn = Math.abs(columnDiff) === 1;\n  const diffRow = Math.abs(rowDiff) === 1;\n  const sameRowDiffColumn = sameRow && diffColumn;\n  const sameColumnDiffRow = sameColumn && diffRow;\n\n  return {\n    neighbours: sameRowDiffColumn || sameColumnDiffRow,\n    distance: {\n      rows: rowDiff,\n      columns: columnDiff,\n    },\n  };\n};\n\nexport const invert = (arr, indexA, indexB, fields) => {\n  fields.forEach(field => {\n    const sw = arr[indexA][field];\n    arr[indexA][field] = arr[indexB][field];\n    arr[indexB][field] = sw;\n  });\n};\n","import { range, randomSubarray } from './utils';\n\n/**\n * Generate a level of a given size\n * @param {Number} size The total size of the level, must be a perfect square\n * @returns {Object} TileSet object representing the level\n */\nexport default size => {\n  if (!Number.isInteger(Math.sqrt(size))) {\n    throw new Error(`Cannot generate level of size: <${size}>`);\n  }\n\n  if (size < 1 || size > 100) {\n    throw new Error(`Cannot generate level of size: <${size}>`);\n  }\n\n  return {\n    tileSet: randomSubarray(range(size), size),\n  };\n};\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport classnames from 'classnames';\nimport PropTypes from 'prop-types';\n\nclass Tile extends Component {\n  constructor(props) {\n    super(props);\n\n    this.onClick = this.onClick.bind(this);\n  }\n\n  onClick() {\n    this.props.onClick(this.props);\n  }\n\n  render() {\n    const { className, number, visible } = this.props;\n    const classes = classnames({\n      [className]: true,\n      'tile-invisible': !visible,\n    });\n\n    return (\n      <div className={classes} onClick={this.onClick}>\n        <span className=\"tile-number\">{number}</span>\n      </div>\n    );\n  }\n}\n\nTile.propTypes = {\n  tileId: PropTypes.number.isRequired,\n  width: PropTypes.number.isRequired,\n  height: PropTypes.number.isRequired,\n  left: PropTypes.number.isRequired,\n  top: PropTypes.number.isRequired,\n  number: PropTypes.number,\n  onClick: PropTypes.func,\n  correct: PropTypes.bool,\n  visible: PropTypes.bool,\n};\n\nTile.defaultProps = {\n  number: 0,\n  correct: false,\n  visible: true,\n};\n\nexport default styled(Tile)`\n  border: 1px solid #FFD1AA;\n  position: absolute;\n  width: ${props => props.width}px;\n  height: ${props => props.height}px;\n  left: ${props => props.left}px;\n  top: ${props => props.top}px;\n  display: flex;\n  flex-direction: column;\n  justify-content: center;\n  align-items: center;\n  cursor: pointer;\n  background-color: ${props => props.correct ? '#226666' : '#D4726A'};\n  transition-property: top, left, background-color;\n  transition-duration: .300s;\n  transition-timing-function: ease-in;\n\n  .tile-number {\n    color: #FFD1AA;\n    font-weight: 400;\n    font-size: 1.8em;\n    user-select: none;\n  }\n\n  &.tile-invisible {\n    display: none;\n  }\n`;\n\nexport const propTypes = Tile.propTypes;\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport PropTypes from 'prop-types';\nimport Tile, { propTypes as TilePropTypes } from './Tile';\n\nclass Grid extends Component {\n  render() {\n    const {\n      className,\n      tiles,\n      onTileClick,\n      gridSize,\n    } = this.props;\n\n    return (\n      <div className={className}>\n        <div className=\"tiles\">\n          {tiles.map((tile, tileId) => {\n            return (\n              <Tile\n                {...tile}\n                key={`tile-${tileId}`}\n                correct={tile.tileId + 1 === tile.number}\n                onClick={onTileClick}\n                visible={tile.number < gridSize ** 2}\n              />\n            );\n          })}\n        </div>\n      </div>\n    );\n  }\n}\n\nGrid.propTypes = {\n  tiles: PropTypes.arrayOf(PropTypes.shape(TilePropTypes)).isRequired,\n  gridSize: PropTypes.number.isRequired,\n  tileSize: PropTypes.number.isRequired,\n  onTileClick: PropTypes.func.isRequired,\n};\n\nexport default styled(Grid)`\n  flex: 1;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  min-height: 500px;\n\n  & .tiles {\n    width: ${props => props.tileSize * props.gridSize}px;\n    height: ${props => props.tileSize * props.gridSize}px;\n    position: relative;\n    text-align: center;\n  }\n`;\n","export const GAME_IDLE = Symbol('GAME_IDLE');\nexport const GAME_STARTED = Symbol('GAME_STARTED');\nexport const GAME_OVER = Symbol('GAME_OVER');\nexport const GAME_PAUSED = Symbol('GAME_PAUSED');\n\nexport default {\n  GAME_IDLE,\n  GAME_STARTED,\n  GAME_OVER,\n  GAME_PAUSED,\n};\n","import React, { Component } from 'react';\nimport styled from 'styled-components';\nimport { Toolbar, ToolbarGroup, ToolbarTitle } from 'material-ui/Toolbar';\nimport RaisedButton from 'material-ui/RaisedButton';\nimport Chip from 'material-ui/Chip';\nimport Avatar from 'material-ui/Avatar';\nimport Alarm from 'material-ui/svg-icons/action/alarm';\nimport Moves from 'material-ui/svg-icons/action/compare-arrows';\nimport Replay from 'material-ui/svg-icons/av/replay';\nimport Pause from 'material-ui/svg-icons/av/pause';\nimport Play from 'material-ui/svg-icons/av/play-arrow';\nimport New from 'material-ui/svg-icons/action/power-settings-new';\nimport { GAME_STARTED, GAME_PAUSED } from '../lib/game-status';\nimport PropTypes from 'prop-types';\nimport MediaQuery from 'react-responsive';\n\nconst StyledToolbar = styled(Toolbar)`\n\n@media (max-width: 1190px) {\n  \n  & {\n    justify-content: center !important;\n  }\n\n  .toolbarTitle {\n    display: none;\n  }\n\n}\n\n@media (max-width: 890px) {\n\n  .menuButton {\n    margin: 10px 5px !important;\n    min-width: 36px !important;\n  }\n\n  .menuIcon {\n    margin-left: 0px !important;\n  }\n\n  .menuIcon+span {\n    display: none !important;\n  }\n\n}\n\n`;\n\nclass Menu extends Component {\n  render() {\n    const {\n      seconds,\n      moves,\n      onResetClick,\n      onPauseClick,\n      onNewClick,\n      gameState,\n    } = this.props;\n\n    return (\n      <StyledToolbar className=\"toolbar\">\n        <ToolbarTitle\n          className=\"toolbarTitle\"\n          text=\"React Puzzle Games - 15 Puzzle\"\n        />\n        <ToolbarGroup>\n          <RaisedButton\n            className=\"menuButton\"\n            label=\"New game\"\n            onTouchTap={onNewClick}\n            title=\"Start a new game\"\n            icon={<New className=\"menuIcon\" />}\n          />\n          <RaisedButton\n            className=\"menuButton\"\n            label={gameState === GAME_PAUSED ? 'Continue' : 'Pause'}\n            onTouchTap={onPauseClick}\n            icon={\n              gameState === GAME_PAUSED\n                ? <Play className=\"menuIcon\" />\n                : <Pause className=\"menuIcon\" />\n            }\n            title=\"Pause/Continue current game.\"\n            disabled={gameState !== GAME_STARTED && gameState !== GAME_PAUSED}\n          />\n          <RaisedButton\n            className=\"menuButton\"\n            label=\"Reset game\"\n            onTouchTap={onResetClick}\n            title=\"Reset game\"\n            icon={<Replay className=\"menuIcon\" />}\n          />\n          <Chip>\n            <Avatar icon={<Alarm />} />\n            <MediaQuery query=\"(min-width: 772px)\" component=\"span\">\n              Time Elapsed:{' '}\n            </MediaQuery>\n            {seconds}s\n          </Chip>\n          <Chip>\n            <Avatar icon={<Moves />} />\n            <MediaQuery query=\"(min-width: 772px)\" component=\"span\">\n              Moves Counter:{' '}\n            </MediaQuery>\n            {moves}\n          </Chip>\n        </ToolbarGroup>\n      </StyledToolbar>\n    );\n  }\n}\n\nMenu.propTypes = {\n  seconds: PropTypes.number.isRequired,\n  moves: PropTypes.number.isRequired,\n  onResetClick: PropTypes.func.isRequired,\n  onPauseClick: PropTypes.func.isRequired,\n  onNewClick: PropTypes.func.isRequired,\n  gameState: PropTypes.symbol.isRequired,\n};\n\nexport default Menu;\n","import React, { Component } from 'react';\nimport { getTileCoords, distanceBetween, invert } from '../lib/utils';\nimport Grid from './Grid';\nimport Menu from './Menu';\nimport {\n  GAME_IDLE,\n  GAME_OVER,\n  GAME_STARTED,\n  GAME_PAUSED,\n} from '../lib/game-status';\nimport Dialog from 'material-ui/Dialog';\nimport FlatButton from 'material-ui/FlatButton';\nimport Snackbar from 'material-ui/Snackbar';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nclass Game extends Component {\n  constructor(props) {\n    super(props);\n\n    const { numbers, tileSize, gridSize, moves, seconds } = props;\n    const tiles = this.generateTiles(numbers, gridSize, tileSize);\n\n    this.state = {\n      tiles,\n      gameState: GAME_IDLE,\n      moves,\n      seconds,\n      dialogOpen: false,\n      snackbarOpen: false,\n      snackbarText: '',\n    };\n\n    document.addEventListener('keydown', this.keyDownListener);\n  }\n\n  componentWillReceiveProps(nextProps) {\n    const { tileSize, gridSize } = this.props;\n    const newTiles = this.generateTiles(nextProps.numbers, gridSize, tileSize);\n\n    this.setState({\n      gameState: GAME_IDLE,\n      tiles: newTiles,\n      moves: 0,\n      seconds: 0,\n    });\n\n    clearInterval(this.timerId);\n  }\n\n  // End game by pressing CTRL + ALT + F\n  keyDownListener = key => {\n    if (key.ctrlKey && key.altKey && key.code === 'KeyF') {\n      const { original, gridSize, tileSize } = this.props;\n      const solvedTiles = this.generateTiles(original, gridSize, tileSize).map((\n        tile,\n        index,\n      ) => {\n        tile.number = index + 1;\n        return Object.assign({}, tile);\n      });\n\n      clearInterval(this.timerId);\n\n      this.setState({\n        gameState: GAME_OVER,\n        tiles: solvedTiles,\n        dialogOpen: true,\n      });\n    }\n  };\n\n  handleDialogClose = () => {\n    this.setState({\n      dialogOpen: false,\n    });\n  };\n\n  handleSnackbarClose = reason => {\n    this.setState({\n      snackbarOpen: false,\n    });\n  };\n\n  generateTiles(numbers, gridSize, tileSize) {\n    const tiles = [];\n\n    numbers.forEach((number, index) => {\n      tiles[index] = {\n        ...getTileCoords(index, gridSize, tileSize),\n        width: this.props.tileSize,\n        height: this.props.tileSize,\n        number,\n      };\n    });\n\n    return tiles;\n  }\n\n  isGameOver(tiles) {\n    const correctedTiles = tiles.filter(tile => {\n      return tile.tileId + 1 === tile.number;\n    });\n\n    if (correctedTiles.length === (this.props.gridSize) ** 2) {\n      clearInterval(this.timerId);\n      return true;\n    } else {\n      return false;\n    }\n  }\n\n  addTimer() {\n    this.setState(prevState => {\n      return { seconds: prevState.seconds + 1 };\n    });\n  }\n\n  setTimer() {\n    this.timerId = setInterval(\n      () => {\n        this.addTimer();\n      },\n      1000,\n    );\n  }\n\n  onPauseClick = () => {\n    this.setState(prevState => {\n      let newGameState = null;\n      let newSnackbarText = null;\n\n      if (prevState.gameState === GAME_STARTED) {\n        clearInterval(this.timerId);\n        newGameState = GAME_PAUSED;\n        newSnackbarText = 'The game is currently paused.';\n      } else {\n        this.setTimer();\n        newGameState = GAME_STARTED;\n        newSnackbarText = 'Game on!';\n      }\n\n      return {\n        gameState: newGameState,\n        snackbarOpen: true,\n        snackbarText: newSnackbarText,\n      };\n    });\n  };\n\n  onTileClick = tile => {\n    if (\n      this.state.gameState === GAME_OVER || this.state.gameState === GAME_PAUSED\n    ) {\n      return;\n    }\n\n    // Set Timer in case of first click\n    if (this.state.moves === 0) {\n      this.setTimer();\n    }\n\n    const { gridSize } = this.props;\n\n    // Find empty tile\n    const emptyTile = this.state.tiles.find(t => t.number === gridSize ** 2);\n    const emptyTileIndex = this.state.tiles.indexOf(emptyTile);\n\n    // Find index of tile\n    const tileIndex = this.state.tiles.findIndex(t => t.number === tile.number);\n\n    // Is this tale neighbouring the zero tile? If so, switch them.\n    const d = distanceBetween(tile, emptyTile);\n    if (d.neighbours) {\n      let t = Array.from(this.state.tiles).map(t => ({ ...t }));\n\n      invert(t, emptyTileIndex, tileIndex, [\n        'top',\n        'left',\n        'row',\n        'column',\n        'tileId',\n      ]);\n\n      const checkGameOver = this.isGameOver(t);\n\n      this.setState({\n        gameState: checkGameOver ? GAME_OVER : GAME_STARTED,\n        tiles: t,\n        moves: this.state.moves + 1,\n        dialogOpen: checkGameOver ? true : false,\n      });\n    }\n  };\n\n  render() {\n    const {\n      className,\n      gridSize,\n      tileSize,\n      onResetClick,\n      onNewClick,\n    } = this.props;\n\n    const actions = [\n      <FlatButton label=\"Close\" onTouchTap={this.handleDialogClose} />,\n    ];\n\n    return (\n      <div className={className}>\n        <Menu\n          seconds={this.state.seconds}\n          moves={this.state.moves}\n          onResetClick={onResetClick}\n          onPauseClick={this.onPauseClick}\n          onNewClick={onNewClick}\n          gameState={this.state.gameState}\n        />\n        <Grid\n          gridSize={gridSize}\n          tileSize={tileSize}\n          tiles={this.state.tiles}\n          onTileClick={this.onTileClick}\n        />\n        <Dialog\n          title=\"Congrats!\"\n          actions={actions}\n          modal={false}\n          open={this.state.dialogOpen}\n          onRequestClose={this.handleDialogClose}\n        >\n          You've solved the puzzle in{' '}\n          {this.state.moves}\n          {' '}moves in{' '}\n          {this.state.seconds}\n          {' '}seconds!\n        </Dialog>\n        <Snackbar\n          open={this.state.snackbarOpen}\n          message={this.state.snackbarText}\n          onRequestClose={this.handleSnackbarClose}\n        />\n      </div>\n    );\n  }\n}\n\nGame.propTypes = {\n  numbers: PropTypes.arrayOf(PropTypes.number).isRequired,\n  original: PropTypes.arrayOf(PropTypes.number),\n  tileSize: PropTypes.number,\n  gridSize: PropTypes.number,\n  moves: PropTypes.number,\n  seconds: PropTypes.number,\n};\n\nGame.defaultProps = {\n  tileSize: 90,\n  gridSize: 4,\n  moves: 0,\n  seconds: 0,\n};\n\nexport default styled(Game)`\n  flex: 1;\n`;\n","import React, { Component } from 'react';\nimport levelFactory from './../lib/levels-factory';\nimport Game from './Game';\nimport PropTypes from 'prop-types';\nimport styled from 'styled-components';\n\nclass App extends Component {\n  constructor(props) {\n    super(props);\n\n    const level = props.level ? props.level : levelFactory(4 ** 2);\n    const originalLevel = Object.assign({}, level);\n\n    this.state = {\n      original: originalLevel,\n      level,\n    };\n  }\n\n  onResetClick = () => {\n    this.setState({\n      level: {\n        tileSet: this.state.original.tileSet,\n      },\n    });\n  };\n\n  onNewClick = () => {\n    const newLevel = levelFactory(4 ** 2);\n    const newOriginalLevel = Object.assign({}, newLevel);\n    this.setState({\n      level: newLevel,\n      original: newOriginalLevel,\n    });\n  };\n\n  render() {\n    const { className } = this.props;\n\n    return (\n      <div className={className}>\n        <Game\n          gridSize={4}\n          tileSize={90}\n          numbers={this.state.level.tileSet}\n          onResetClick={this.onResetClick}\n          onNewClick={this.onNewClick}\n          original={this.state.original.tileSet}\n        />\n      </div>\n    );\n  }\n}\n\nApp.propTypes = {\n  level: PropTypes.shape({\n    tileSet: PropTypes.arrayOf(PropTypes.number).isRequired,\n  }),\n};\n\nexport default styled(App)`\n  display: flex;\n  flex-direction: column;\n  min-height: 100vh;\n`;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './styles/index.css';\nimport levelFactory from './lib/levels-factory';\nimport MuiThemeProvider from 'material-ui/styles/MuiThemeProvider';\nimport injectTapEventPlugin from 'react-tap-event-plugin';\n\n// Needed for onTouchTap\n// http://stackoverflow.com/a/34015469/988941\ninjectTapEventPlugin();\n\nconst MuiTheme = () => (\n  <MuiThemeProvider>\n    <App level={levelFactory(4 ** 2)} />\n  </MuiThemeProvider>\n);\n\nReactDOM.render(<MuiTheme />, document.getElementById('root'));\n"],"sourceRoot":""}